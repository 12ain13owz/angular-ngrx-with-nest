<div class="flex flex-col gap-1">
  <p-floatlabel variant="on">
    <input
      pInputText
      [id]="id()"
      [type]="hidePassword() ? type() : 'text'"
      [readOnly]="readonly()"
      [formControl]="control()"
      [invalid]="control().invalid && control().touched"
      (blur)="onEmailBlur()"
      class="w-full"
      autocomplete="off"
    />
    <label [for]="id()">{{ label() }}</label>

    @if (type() === 'password') {

    <button type="button" (click)="togglePasswordVisibility()">
      <i
        class="pi absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer text-gray-500"
        [class]="{
          'pi-eye': hidePassword(),
          'pi-eye-slash': !hidePassword()
        }"
      ></i>
    </button>
    }
  </p-floatlabel>

  <p-message severity="error" size="small" variant="simple">
    <app-error-field [control]="control()" [errorMessage]="errorMessage()"></app-error-field>
  </p-message>
</div>
